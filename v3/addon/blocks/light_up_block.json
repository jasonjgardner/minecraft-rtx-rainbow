{
  "format_version": "1.20.20",
  "minecraft:block": {
    "description": {
      "identifier": "rainbow:lightup_block",
      "traits": {},
      "states": {
        "rainbow:is_lit": [true, false]
      }
    },
    "components": {
      "minecraft:unit_cube": {},
      "minecraft:map_color": "#ffffff",
      "minecraft:light_emission": 0,
      "minecraft:material_instances": {
        "*": {
          "texture": "rainbow_purple_400_block",
          "render_method": "opaque",
          "ambient_occlusion": true,
          "face_dimming": true
        }
      }
    },
    "permutations": [{
      "condition": "q.block_state('rainbow:is_lit') == true",
      "components": {
        "minecraft:light_emission": 10,
        "minecraft:material_instances": {
          "*": {
            "texture": "rainbow_purple_400_lit",
            "render_method": "opaque",
            "ambient_occlusion": true,
            "face_dimming": true
          }
        }
      }
    }],
    "events": {
      "rainbow:toggle_light": {
        "set_block_state": {
            "rainbow:is_lit": "not q.block_state('rainbow:is_lit')"
        }
      }
    }
  }
}
